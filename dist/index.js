(function(n){var r={};function i(t){if(r[t]){return r[t].exports}var e=r[t]={i:t,l:false,exports:{}};n[t].call(e.exports,e,e.exports,i);e.l=true;return e.exports}i.m=n;i.c=r;i.d=function(t,e,n){if(!i.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:n})}};i.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};i.t=function(e,t){if(t&1)e=i(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);i.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n};i.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};i.d(t,"a",t);return t};i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};i.p="";return i(i.s=1)})([function(t,e,n){t.exports=zn.arrayValueToObject(["Session","Draggable","Router","RestfulHandler"],function(t){zn.react[t]=n(6)("./"+t+".js")})},function(t,e,n){t.exports=n(2)},function(t,e,n){n(3);n(4);n(0);["global","layout","basic","data","form"].forEach(function(t,e){t="./component/"+t+"/index.js";zn.overwrite(zn.react,n(11)(t))});if(!zn.plugin){zn.plugin={}}if(!zn.app){zn.app={}}t.exports=zn.react},function(t,e){t.exports=zn.react={downloadDataURL:function t(e,n){var r=this.dataURLToBlob(e);var i=window.URL.createObjectURL(r);this.downloadURL(i,n)},downloadURL:function t(e,n){var r=document.createElement("a");r.style="display: none";r.href=e;if(n){r.download=n}document.body.appendChild(r);r.click();window.URL.revokeObjectURL(e)},dataURLToBlob:function t(e){var n=e.split(";base64,");var r=n[0].split(":")[1];var i=window.atob(n[1]);var o=i.length;var s=new Uint8Array(o);for(var a=0;a<o;++a){s[a]=i.charCodeAt(a)}return new Blob([s],{type:r})},copyToClipboard:function t(e){var n=document.createElement("input");n.value=e;n.style.width="0px !important";n.style.height="0px !important";document.body.appendChild(n);n.select();document.execCommand("Copy");document.body.removeChild(n);zn.notification.success("复制成功："+e)},isAndroid:function t(){return navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1},isIOS:function t(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},isMobile:function t(){if(/AppleWebKit.*Mobile/i.test(navigator.userAgent)||/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent)){try{if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)){return true}else if(/iPad/i.test(navigator.userAgent)){return true}else{return true}}catch(t){return false}}else{return false}},checkTime:function t(e,n){var r=new Date(e.replace(/-/g,"/")).getTime(),i=new Date(n.replace(/-/g,"/")).getTime(),o=(new Date).getTime();if(r<o&&i>o){return 0}if(r>o){return-1}else{return 1}},classname:function t(){var n=[];zn.each(Array.prototype.slice.call(arguments),function(t,e){if(t){switch(zn.type(t)){case"string":n.push(t);break;case"function":n.push(t.call(null)||"");break}}});return n.join(" ")},style:function t(){},extendPath:function t(e,n){var r={};for(var i in n){r[e+i]=n[i]}return r},loadPaths:function t(e,n,r){var i={},o=null;for(var s in e){o=n&&n(e[s]);i[s]=o;if(r&&zn.is(o,"object")){for(var a in o){i[a]=o[a]}}}return i},findTarget:function t(e,n){if(!e){return}var r=n||{};for(var i in r){if(e[i]!==r[i]){return this.findTarget(e.parentNode,n)}}return e},exports:function t(e,n){}}},function(t,e,o){t.exports=zn.react.Application=zn.Class({statics:{create:function t(e){var n={},r={init:function t(e){this.super(e);this.sets(e)}};zn.each(e,function(t,e){if(zn.type(t)=="function"&&!t.displayName){r[e]=t}else{n[e]=t}});var i=zn.Class(this,{methods:r,properties:n});return new i(n)}},properties:{container:"container",absolute:true,home:null,main:null,host:window.location.origin,router:null,global:null,plugins:[]},methods:{init:function t(e){this.sets(e);this.__initArgv(e);var n=this.onInit&&this.onInit.call(this,this.gets());if(n!==false){this.update(n)}},__initArgv:function t(e){var n={},r={},i=null,o=this.get("path"),s=this;this.get("plugins")&&this.get("plugins").forEach(function(t){if(zn.is(t,"string")){t=s.onLoading(t)}if(zn.is(t,"array")){zn.extend(n,t[1]);t=t[0]}zn.extend(r,t)});if(e.routers){var a=zn.deepEachObject(e.routers,this.onLoading.bind(this));zn.extend(r,a);if(o){var u={},c=n[o]||r[o];r["/"]=c;n[o]=r}else{n=r;zn.extend(n,a)}}this._routers=n;this._relativeRouters=r;zn.react.session.setHome(this.get("home")).setMain(this.get("main")).setBasePath(this.get("path"));zn.http.setHost(this.get("host"),this.get("port"))},onLoading:function t(e){return e},__getRenderView:function t(){return this.render&&this.render.call(this,this.gets())},update:function t(e){var n=this.get("router");if(!n){n=zn.react.isMobile()?zn.react.WapRouter:zn.react.WebRouter}if(!n){return alert("只适合手机版本打开!"),false}var r=e||this.__getRenderView()||React.createElement(n,{home:this.get("home"),routers:this._routers}),i=this.get("container");i=zn.type(i)=="string"?document.getElementById(i):i;if(this.get("absolute")){i.style.position="absolute";i.style.width="100%";i.style.height="100%"}if(zn.react.isMobile()){i.classList.add("zr-mobile")}if(this.get("global")){r=React.createElement("div",{style:{width:"100%",height:"100%"}},r,this.get("global"))}setTimeout(function(){return o(5).render(r,i)},50)}}})},function(t,e){t.exports=ReactDOM},function(t,e,n){var r={"./Draggable.js":7,"./RestfulHandler.js":8,"./Router.js":9,"./Session.js":10,"./index.js":0};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");e.code="MODULE_NOT_FOUND";throw e}return r[t]}i.keys=function t(){return Object.keys(r)};i.resolve=o;t.exports=i;i.id=6},function(t,e){t.exports=zn.Class({statics:{create:function t(e,n){return new this.prototype.constructor(e,n)}},methods:{init:function t(e,n){var r=n||{},i={source:e,vector:["left","top"],start:["30","30"],minX:0,maxX:null,minY:0,maxY:null,xHandler:null,yHandler:null,onDragStrat:function t(){},onDrag:function t(){},onDragEnd:function t(){}};for(var o in i){if(!r.hasOwnProperty(o)){r[o]=i[o]}}var s=r.source,a=r.start,u=r.vector;r.DX=u[0];r.DY=u[1];s.style.position="absolute";e.style.cursor="move";if(a){s.style[r.DX]=(a[0]||0)+"px";s.style[r.DY]=(a[1]||0)+"px"}this._argv=r;if(r.event){this.__mousedown(r.event)}e.onmousedown=this.__mousedown.bind(this)},__mousedown:function t(e){var n=e||window.event,r=this._argv,i=r.source;var o=parseFloat(i.style[r.DX])||0,s=parseFloat(i.style[r.DY])||0,a=n.clientX||n.x,u=n.clientY||n.y;var c=r.onDragStrat&&r.onDragStrat(o,s,a,u,n);if(c){for(var h in c){if(c[h]!==undefined&&c[h]!==null){r[h]=c[h]}}}r.currX=o;r.currY=s;r.mouseX=a;r.mouseY=u;var l=!!r.onDragStart&&r.onDragStart(e,r);if(l!==false){document.onmousemove=this.__mousemove.bind(this);document.onmouseup=this.__mouseup.bind(this)}return false},__mousemove:function t(e){var n=e||window.event,r=n.clientX||n.x,i=n.clientY||n.y,o=this._argv;var s=r-o.mouseX,a=i-o.mouseY;o.DX.toLowerCase()=="right"&&(s*=-1);o.DY.toLowerCase()=="bottom"&&(a*=-1);var u=o.currX+s,c=o.currY+a;u<o.minX&&(u=o.minX);o.maxX&&u>o.maxX&&(u=o.maxX);c<o.minY&&(c=o.minY);o.maxY&&c>o.maxY&&(c=o.maxY);if(u!==o.currX){o.mouseX=r;o.currX=u;o.source.style[o.DX]=u+"px"}if(c!==o.currY){o.mouseY=i;o.currY=c;o.source.style[o.DY]=c+"px"}o.onDrag&&o.onDrag(e,o);return false},__mouseup:function t(e){this._argv.onDragEnd&&this._argv.onDragEnd(e,this._argv);document.onmousemove=null;document.onmouseup=null}}})},function(t,e){var o=zn.Class({properties:{data:{readonly:true,get:function t(){return this._data||{}}},path:{readonly:true,get:function t(){return this._path||""}},search:{readonly:true,get:function t(){return this._search||{}}},notFound:true},methods:{init:function t(e){this.sets(e);this.reset()},__initMapping:function t(){this._mapping=new Mapping},reset:function t(){var e=location.hash.split("?");this._path=e[0].slice(1);this._paths=this._path.split("/");this._search=this._data=e[1]?zn.querystring.parse(e[1]):{}},get:function t(e){return e?this._data[e]:this._data},parseRouterParameter:function t(e){var n={},r=null,i=null,o=this._paths;e.split("/").forEach(function(t,e){if(/^:\w[\w\d]*$/.test(t)){r=t.replace(/^:/,"");i=o[e];n[r]=i}});return n},extend:function t(e){if(e){zn.extend(this._data,e)}return this},test:function t(e){if(typeof e!="string"){return false}var n=Boolean(e=="*");var r=e.replace(/\/:\w[^\/]+/g,"/([^/]+)");r=r.replace(/\//g,"\\/");if(e.slice(-3)=="{*}"){r="^#"+r.slice(0,-3)}else{r="^#"+r+"$"}var i=Boolean(new RegExp(r).test("#"+this._path));var o=Boolean(this._path==""&&e=="/");return Boolean(n||i||o)}}});t.exports=zn.Class({events:["change"],methods:{init:function t(e){this._controllers=[];this._errors=[];window.addEventListener("hashchange",this.__onHashChange.bind(this),false)},fireHashChange:function t(){this.__onHashChange()},__onHashChange:function t(){var n=new o,e=this._controllers.length,r=null;for(var i=0;i<e;i++){r=this._controllers[i];if(n.test(r.router)){n.notFound=false;n.extend(n.parseRouterParameter(r.router));r.handler.call(r.context,n);break}}n.notFound&&this._errors.forEach(function(t,e){t.handler.call(t.context,n)});this.fire("change",n)},error:function t(e,n){return this._errors.push({handler:e,context:n}),this},use:function t(e,n){return this._controllers.push({router:"*",handler:e,context:n}),this},get:function t(e,n,r){return this._controllers.push({router:e,handler:n,context:r}),this}}})},function(t,e){t.exports=zn.Class({methods:{init:function t(e){this._search=new URLSearchParams(location.search.slice(1));this._hash=location.hash;var n=e||{},r=this,i=n.onLoaded||function(){},o=n.onHashChange||function(){},s=n.onPopState||function(){};window.addEventListener("DOMContentLoaded",function(t){if(i(t,r)===false){return false}},false);window.addEventListener("hashchange",function(t){if(o(t,r)===false){return false}},false);window.addEventListener("popstate",function(){if(s(event,r)===false){return false}},false)},setSearch:function t(e){var n=e||{};for(var r in n){this._search.set(r,n[r])}return this.refresh(),this},getSearch:function t(e){if(e){return this._search.get(e)}var n={};var r=true;var i=false;var o=undefined;try{for(var s=this._search.keys()[Symbol.iterator](),a;!(r=(a=s.next()).done);r=true){var u=a.value;n[u]=this._search.get(u)}}catch(t){i=true;o=t}finally{try{if(!r&&s.return!=null){s.return()}}finally{if(i){throw o}}}return n},setHash:function t(e){this._hash=e;return location.hash=e,this},getURL:function t(e){return location.pathname+"?"+this._search.toString()+"#"+this._hash},refresh:function t(e){return window.history.pushState(null,null,this.getURL()),this},pushState:function t(e,n,r){return window.history.pushState(e,n,r),this}}})},function(t,e){function o(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function t(e){return typeof e}}else{o=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return o(t)}t.exports=zn.react.session=zn.Class({static:true,methods:{fixRelativePath:function t(e){var n=this._basePath||"";if(e.indexOf(n)==-1){e=n+e}return e},relativeURL:function t(e,n){var r=zn.querystring.stringify(n);return"#"+this.fixRelativePath(e)+(r?"?"+r:"")},relativeJump:function t(e,n,r){return this.jump(this.fixRelativePath(e),n,r)},jump:function t(e,n,r){var i=zn.extend({},n);if(!r){zn.overwrite(i,this._globalSearch)}if(!n){this._search={}}this._search=zn.overwrite(i,this._search);zn.react.global.fireJump();var o=zn.querystring.stringify(this._search);location.hash=e+(o?"?"+o:"");return this},back:function t(){return window.history.back(),this},setGlobalSearch:function t(e){return this._globalSearch=e,this},setHome:function t(e){return this._home=e,this},setMain:function t(e){return this._main=e,this},setBasePath:function t(e){return this._basePath=e,this},fixPath:function t(e){return(this._basePath||"")+(e||"")},isPath:function t(e){return window.location.hash.split("?")[0]==="#"+this.fixPath(e)},containPath:function t(e){return window.location.hash.split("?")[0].indexOf("#"+this.fixPath(e))!==-1},doHome:function t(){if(this._home){location.hash=this._home}return this},doMain:function t(e){if(this._main){if(e){this.clear().set(e)}location.hash=this.fixRelativePath(this._main)}return this},getPath:function t(){return location.hash.slice(1)},clear:function t(){return this.getEngine().clear(),this},reset:function t(){return this.clear(),this},setEngine:function t(e){return this._engine=e,this},getEngine:function t(){var e=this._engine||"sessionStorage";if(e&&typeof e=="string"){e=window[e]}return e},setKey:function t(e){return this._key=e,this},getKey:function t(){return this._key||"WEB_LOGIN_SESSION"},setKeyValue:function t(e,n,r){var i=o(n)=="object"?JSON.stringify(n):n;return this.getEngine().setItem(e,i,r),this},getKeyValue:function t(e){return this.getEngine().getItem(e)},removeKeyValue:function t(e){return this.getEngine().removeItem(e),this},jsonKeyValue:function t(e){var n=this.getKeyValue(e);if(n){try{n=JSON.parse(n)}catch(t){n={};console.log(t.stack)}}return n},set:function t(e,n){return this.setKeyValue(this.getKey(),e,n)},get:function t(){return this.getKeyValue(this.getKey())},json:function t(e){var n=this.get();if(n){try{n=JSON.parse(n)}catch(t){n=null;console.log(t.stack)}}return n},validate:function t(){if(this.json()){return true}else{return this.doHome(),false}}}})},function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");e.code="MODULE_NOT_FOUND";throw e}n.keys=function(){return[]};n.resolve=n;t.exports=n;n.id=11}]);